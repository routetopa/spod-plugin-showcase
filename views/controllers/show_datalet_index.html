<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<script type="text/javascript">

    $( document ).ready(function() {

        if ('scrollRestoration' in history) {
            history.scrollRestoration = 'manual';
        }

        var s = skrollr.init({
            forceHeight:true
        });


        $("#dragme").draggable({
            containment: "parent",
            axis: "x",
            drag: function( event, ui ) {
                $("#sx_view").width(ui.position.left);
            }
        });

        $(".nav").on('click', function (e) {

            $(".nav").removeClass('selected');
            $(e.currentTarget).addClass('selected');

            let page_one = function () {
                $('html, body').animate({
                    scrollTop: 0
                }, 1000);
            };

            let page_two = function ()
            {
                $("#sx_view").width(0);
                $("#dragme").css('left', 0);

                $('html, body').animate({
                    scrollTop: $(window).height()
                }, 1000);

                let width = (0.50*$('#sx_view').parent().width());

                $("#sx_view").animate({
                    width : width
                }, 1800);

                $("#dragme").animate({
                    left : '50%'
                }, 1800);

            };

            let page_three = function () {
                $('html, body').animate({
                    scrollTop: $(window).height()*2
                }, 1000);
            };

            switch (e.currentTarget.getAttribute('nav-menu'))
            {
                case "1" : page_one(); break;
                case "2" : page_two(); break;
                case "3" : page_three(); break;
            }

        });

        $('#div2').hover(function() {
            $('#page_three').css("background-image", "url(https://whatsonmyblackboard.files.wordpress.com/2013/08/commonroomaug2013-1.jpg)");
        });

        $('#div3').hover(function() {
            $('#page_three').css("background-image", "url(http://www.harrisongrierson.com/www/images/hg-perspective/the-earth-isnt-flat-phlogiston-doesnt-exist-small.jpg)");
        });

        $('#div4').hover(function() {
            $('#page_three').css("background-image", "url(https://www.techforjustice.org/wp-content/uploads/2015/10/light-graph-background-gradient.jpg)");
        });

    });

</script>

<style>

    html {
        overflow: -moz-scrollbars-none;
    }

    body {
        overflow: hidden;
    }

    ::-webkit-scrollbar {
        display: none;
    }

    .selected:before
    {
        content: '';
        position: absolute;
        left: 4px;
        top: 4px;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #FFFFFF;
    }

    #page_three
    {
        height: 100vh;
        background-image: url("http://www.harrisongrierson.com/www/images/hg-perspective/the-earth-isnt-flat-phlogiston-doesnt-exist-small.jpg");
        background-attachment: fixed;
        background-position: center;
        background-repeat: no-repeat;
        background-size: cover;
    }

    #div1 div {
        position:absolute;
    }

    #div1 {
        /*background-color: yellow;*/
        position: relative;
        /*height: 200px;
        width: 200px;*/
        height: 100%;
        width: 100%;
        display: flex; justify-content: center; align-items: center;
        /*perspective: 500px;
        perspective-origin: 50% 50%;*/
        /*transform-style: preserve-3d;*/
    }

    #div2 {
        height: 458px;
        width: 300px;
        transform: rotateX(45deg) rotateZ(-45deg) translateX(210px) translateY(235px);
    }


    #div3:before, #div2:before, #div4:before{
        content: '';
        position: absolute;
        left: -4px;
        top: 4px;
        width: 298px;
        height: 401px;
        background: #c9c9c9;
    }

    #div3 {
        height: 458px;
        width: 300px;
        transform: rotateX(45deg) rotateZ(-45deg) translateX(-120px) translateY(235px);
    }

    #div4 {
        height: 458px;
        width: 300px;
        transform: rotateX(45deg) rotateZ(-45deg) translateX(30px) translateY(-205px);
    }

    #base_datalet_container {
        display: none;
    }

    #div3 .leaflet-control-container {
        display: none;
    }

</style>


    <img src="https://sitetour.io/assets/images/st-logo-white.png" height="40" style="position:fixed; top: 4px; left: 4px; z-index: 10">


    <div style="position: fixed; right: 0px; height: 100vh; width: 48px; z-index: 100">
        <div style="display: flex; justify-content: center; align-items: center; flex-direction:column; height: 100%">
            <div nav-menu="1" class="nav selected" style="cursor:pointer; background-color: transparent; border-radius: 50%; width: 20px; height: 20px; margin: 6px; border: 2px solid #ffffff; position: relative"></div>
            <div nav-menu="2" class="nav" style="cursor:pointer; background-color: transparent; border-radius: 50%; width: 20px; height: 20px; margin: 6px; border: 2px solid #ffffff; position: relative"></div>
            <div nav-menu="3" class="nav" style="cursor:pointer; background-color: transparent; border-radius: 50%; width: 20px; height: 20px; margin: 6px; border: 2px solid #ffffff; position: relative"></div>
        </div>
    </div>

    <div class="agora_left_comment" id=""
         style='
         height: 100vh;
         background-image: url("https://www.techforjustice.org/wp-content/uploads/2015/10/light-graph-background-gradient.jpg");
         position: relative;
         opacity: 1;
         background-attachment: fixed;
         background-position: center;
         background-repeat: no-repeat;
         background-size: cover;'
    >

        <div style='width: 100%;
                height: 48px;
                background-color: #2196F3;
                position: absolute'>

        </div>

        <div style="margin: 24px auto; display: flex">

            <div class="ow_avatar style-scope neutral" title="UTENTE">
                <a class="style-scope" href="http://192.168.137.128/user/spodadmin">
                    <img src="http://192.168.137.128/ow_userfiles/plugins/base/avatars/avatar_1_1457965950.jpg">
                </a>
            </div>
            <div class="agora_speech">
                <div class="agora_speech_text"></div>
                <div id="" class="agora_fullsize_datalet scatterchart-datalet" datalet-id="">
                    {$html_datalet}
                </div>
                <div class="agora_speech_info">
                    <div class="agora_speech_username">USERNAME</div>
                    <div class="agora_speech_time">17:12 06/17</div>
                </div>
                <div class="context">Questo scatterplot-datalet Ã¨ stato creato da <a href="">Andrea</a> nell'agora "Il coso del coso del cos" a partire da questo <a href="#">dataset</a>
                                     <br/>La stanza ha 100 views 20 commenti e 5 datalet
                </div>

            </div>

        </div>


    </div>

<div style="display: flex; flex-direction: row; position: relative; height: 100vh; width: 100%; overflow: hidden;">

    <div id="sx_view" class="sx_view" style="height: 100%; width: 0%; overflow: hidden; position: absolute; z-index: 2">
        <div style="height: 100%; width:100vw; position: relative; background-color: #f2f0f1; display: flex; justify-content: center; align-items: center;">
<!--            <div class="cube" style="
                    background-color: blue;
                    width: 100px;
                    height: 100px;
                    position: absolute;
                    left: 0;
                    margin: 0 auto;
                    margin-top: -50px;
                    top: 50%;"
                 data-0="transform:translate(0%,0%)" data-500="transform:translate(200px,0%)"
            ></div>-->
            <div style="
                          width: 973px;
                          height: 650px;
                          position: absolute;
                          right: 0; left:0;
                          margin: 0 auto;
                         " >
                <img src="/ow_static/plugins/showcase/images/visual.jpg" style="vertical-align: middle">
            </div>

            <div style="
                        position: absolute;
                        right: 20px;
                        top: 20px;
                    ">Listen to all this stories ... </div>

        </div>
    </div>

    <div class="dx_view" style="height: 100%; width: 100%; overflow: hidden; position: absolute; ; z-index: 1">
        <div style="height: 100%;
                    width:100vw;
                    position: relative;
                    background-color: #f2f0f1;
                    display: flex;
                    justify-content:center; align-items: center;
                    background: url('/ow_static/plugins/showcase/images/bck.jpg')">
            <!--<div class="cube" style="
                    background-color: #0c0c0c;
                    width: 100px;
                    height: 100px;
                    position: absolute;
                    right: 0;
                    margin: 0 auto;
                    margin-top: -50px;
                    top: 50%;"
                 data-0="transform:translate(0%,0%)" data-800="transform:translate(-750px,0%)"
            ></div>-->
            <div style="
                          height: 650px;
                          width: 973px;
                          position: absolute;
                          right: 0; left:0;
                          margin: 0 auto;
                         ">
                <img src="/ow_static/plugins/showcase/images/data.png" style="vertical-align: middle">
            </div>

            <div style="
                        position: absolute;
                        right: 20px;
                        top: 20px;
                    ">Datas hides stories ... </div>

        </div>
    </div>

    <div id="dragme" style="
                            position: absolute;
                            width: 2px;
                            height: 100%;
                            top: 0px;
                            /*left: 50%;*/
                            background-color: #b0e4f3;
                            cursor: pointer;
                            z-index: 3;"
                            data-0="left:0" data-800="left:50%"
    >
        <span style="
                    width: 30px;
                    height: 30px;
                    background: url(https://static.enginethemes.com/main/img/drag-icon.png) no-repeat center center;
                    display: block;
                    position: absolute;
                    top: 50%;
                    left: -15px;
                    margin-top: -84px;"></span>
    </div>


</div>


<div id="page_three">
    <div style="" id="div1">
        <div id="div2">
            {literal}
            <link rel='import' href='http://192.168.137.128/DEEalerProvider/COMPONENTS/datalets/areachart-datalet/areachart-datalet.html' />
            <areachart-datalet data-url="http://ckan.routetopa.eu/api/3/action/datastore_search?resource_id=a54cf241-57a6-46c5-ba45-3a67fd1ff422&amp;limit=99999" selectedfields="[{&quot;field&quot;:&quot;XAxis&quot;,&quot;value&quot;:&quot;COLLEGIO PROVINCIALE&quot;,&quot;index&quot;:4},{&quot;field&quot;:&quot;NumericYAxis&quot;,&quot;value&quot;:&quot;ELETTORI FEMMINE&quot;,&quot;index&quot;:1},{&quot;field&quot;:&quot;NumericYAxis&quot;,&quot;value&quot;:&quot;ELETTORI MASCHI&quot;,&quot;index&quot;:2},null,{&quot;field&quot;:&quot;Categories&quot;,&quot;value&quot;:&quot;CIRCOSCRIZIONE&quot;,&quot;index&quot;:3}]" filters="[]" aggregators="[]" orders="[]" x-axis-label="" y-axis-label="" suffix="" legend="topRight" data-labels="true" stack="false" theme="themeBase" data="[{&quot;name&quot;:&quot;COLLEGIO PROVINCIALE&quot;,&quot;data&quot;:[7,7,2,7,11,7,11,6,10,2,1,2,3,6,3,3,6,3,3,1,3,3,3,2,3,2,4,2,2,6,2,2,1,11,1,2,2,12,12,2,2,1,1,1,6,5,12,5,5,5,5,5,9,5,9,5,4,5,1,7,5,5,5,5,7,7,7,4,1,6,6,6,3,10,8,7,10,8,8,7,8,10,8,10,8,8,8,10,8,10,8,8,8,10,10,8,10,7,7,4,7,4,4,4,9,7,9,9,4,9,10,11,4,11,4,10,4,10,11,11,4,11,4,11,11,11,10,11,11,9,11,9,11,12,12,9,12,9,12,12,6,9,12,12,9,12,12,12,12,9,12,9,6,6,6,6,6,3,6,4,1,5,5,1,5,2,3,3,1,1,3,1,7,10,12,11,10,7,7]},{&quot;name&quot;:&quot;ELETTORI FEMMINE&quot;,&quot;data&quot;:[326,369,280,362,445,304,475,463,405,437,448,254,536,433,484,430,484,336,265,409,303,290,380,363,291,346,354,476,398,512,336,369,328,321,469,381,350,435,496,295,344,353,353,390,449,396,415,257,380,490,351,296,280,388,336,417,368,384,465,469,469,478,306,320,306,370,487,486,375,457,510,459,381,432,487,440,494,284,300,404,484,294,458,486,457,376,329,537,319,556,338,370,453,532,510,435,498,339,403,402,488,379,520,375,345,384,282,269,327,321,405,494,357,454,358,523,410,439,281,369,279,340,392,405,323,443,279,456,432,317,377,413,395,391,397,295,486,366,435,489,372,345,459,475,382,442,434,493,554,489,522,286,443,416,317,517,404,391,462,358,479,466,394,390,559,366,291,370,469,380,329,377,362,408,374,383,410,0,0]},{&quot;name&quot;:&quot;ELETTORI MASCHI&quot;,&quot;data&quot;:[372,352,238,322,403,293,477,464,368,388,377,221,476,416,441,344,444,307,273,387,260,246,337,302,268,296,313,428,340,422,354,336,318,289,442,301,305,393,481,279,298,317,326,345,398,330,411,239,326,414,316,289,256,336,308,342,336,336,379,416,414,428,303,278,272,300,407,453,340,409,431,428,363,402,454,373,458,265,260,366,407,288,404,443,436,324,267,499,282,483,339,346,410,506,505,370,470,274,336,396,411,349,461,428,303,360,262,222,300,305,405,378,327,462,319,436,384,372,250,326,264,318,344,361,305,391,267,472,396,277,363,348,408,360,401,259,432,342,388,463,341,293,430,446,345,416,414,472,524,462,508,236,410,376,300,475,342,361,408,340,428,432,334,373,488,297,266,333,413,364,308,355,354,380,354,378,364,0,0]},{&quot;name&quot;:&quot;CIRCOSCRIZIONE&quot;,&quot;data&quot;:[&quot;Centro&quot;,&quot;Centro&quot;,&quot;Nord&quot;,&quot;Centro&quot;,&quot;Sud&quot;,&quot;Centro&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Centro&quot;,&quot;Nord&quot;,&quot;Sud&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Sud&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Centro&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Nord&quot;,&quot;Est&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Centro&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Sud&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Ovest&quot;,&quot;Est&quot;,&quot;Ovest&quot;,&quot;Est&quot;,&quot;Ovest&quot;,&quot;Est&quot;,&quot;Nord&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Est&quot;,&quot;Ovest&quot;,&quot;Nord&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Nord&quot;,&quot;Ovest&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Ovest&quot;,&quot;Ovest&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Centro&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Sud&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Nord&quot;,&quot;Est&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Est&quot;,&quot;Est&quot;,&quot;Nord&quot;,&quot;Est&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Nord&quot;,&quot;Est&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Centro&quot;,&quot;Centro&quot;]}]"></areachart-datalet>
            {/literal}
        </div>
        <div id="div3">
            {$html_datalet}
        </div>
        <div id="div4">
            {literal}
            <link rel='import' href='http://192.168.137.128/DEEalerProvider/COMPONENTS/datalets/piechart-datalet/piechart-datalet.html' />
            <piechart-datalet data-url="http://ckan.routetopa.eu/api/3/action/datastore_search?resource_id=460e4248-f3cb-4904-9ee4-dd8db458c9c9&amp;limit=99999" selectedfields="[{&quot;field&quot;:&quot;SliceLabels&quot;,&quot;value&quot;:&quot;CIRCOSCRIZIONE&quot;,&quot;index&quot;:1},{&quot;field&quot;:&quot;SliceSizes&quot;,&quot;value&quot;:&quot;SUM(ELETTORI FEMMINE)&quot;,&quot;index&quot;:1}]" filters="[]" aggregators="[{&quot;field&quot;:&quot;CIRCOSCRIZIONE&quot;,&quot;operation&quot;:&quot;GROUP BY&quot;},{&quot;field&quot;:&quot;ELETTORI FEMMINE&quot;,&quot;operation&quot;:&quot;SUM&quot;}]" orders="[]" suffix="" legend="topRight" data-labels="true" donut="false" theme="themeBase" data="[{&quot;name&quot;:&quot;CIRCOSCRIZIONE&quot;,&quot;data&quot;:[&quot;Centro&quot;,&quot;Nord&quot;,&quot;Sud&quot;,&quot;Ovest&quot;,&quot;Est&quot;]},{&quot;name&quot;:&quot;SUM(ELETTORI FEMMINE)&quot;,&quot;data&quot;:[11934,15022,16628,14015,13099]}]"></piechart-datalet>
            {/literal}
        </div>
    </div>
</div>



